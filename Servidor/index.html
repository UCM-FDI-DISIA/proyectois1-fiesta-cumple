<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App de Citas - Chat</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="profile-styles.css">
    <link rel="stylesheet" href="cuatroEnRaya.css">
    <link rel="stylesheet" href="dosVerdades.css">
</head>
<body>
    <!-- BARRA DE NAVEGACIÓN -->
    <div id="nav-bar" class="nav-bar" style="display:none;">
        <h1 class="nav-title">Veneris</h1>
        <div class="nav-buttons">
            <button onclick="toggleUserList()" class="nav-button">Descubre gente</button>
            <button onclick="toggleChatInterface()" class="nav-button">Chat</button>
        </div>
    </div>

    <!-- PANTALLA DE LOGIN SIMPLIFICADA -->
    <div id="login-screen" style="display:block;">
        <div class="login-container">
            <!-- Columna izquierda: contenido -->
            <div class="login-content">
                <div class="login-logo" id="veneris-logo">
                    <img src="LOGOPROPUESTA.png" alt="Veneris Logo">
                </div>
                <h1 class="login-title" id="main-title">Conecta con quien vibra como tú.</h1>
                <h2 class="login-subtitle">Amor, juego y mitología.</h2>
                <button class="login-cta-btn" onclick="showRegisterForm()">Explorar Veneris</button>
                <p class="login-tagline" id="tagline">Inspirado en Venus. Diseñado para almas que buscan algo más.</p>
            </div>
            
            <!-- Columna derecha: formulario -->
            <div class="login-form-section">
                <h3>Iniciar sesión / Registrarse</h3>
                <p id="login-subtitle">Inicia sesión con tu nombre de usuario</p>
                <input type="text" id="login-username" placeholder="Tu nombre de usuario">
                <button onclick="login()" class="login-btn-primary">Iniciar Sesión</button>
                <button onclick="showRegisterForm()" class="login-btn-secondary">Crear Cuenta Nueva</button>
                <p id="login-error" style="color:red;"></p>
            </div>
        </div>
    </div>

    <!-- PANTALLA DE REGISTRO CON ENCUESTA -->
    <div id="register-screen" style="display:none;">
        <h1>Crear tu Perfil</h1>
        <p>Completa tu perfil para empezar a chatear</p>
        <div class="register-form">
            <h3>Datos de acceso</h3>
            <input type="text" id="register-name" placeholder="Tu nombre de usuario (debe ser único)" required>
            
            <h3>Foto de perfil</h3>
            <div class="photo-upload-container">
                <input type="file" id="profile-photo" accept="image/*">
                <div id="photo-preview" class="photo-preview"></div>
            </div>
            
            <h3>Hábitos</h3>
            <label><input type="checkbox" name="habit" value="Deportista"> Deportista</label>
            <label><input type="checkbox" name="habit" value="Lector"> Lector</label>
            <label><input type="checkbox" name="habit" value="Viajero"> Viajero</label>
            <label><input type="checkbox" name="habit" value="Cocinero"> Cocinero</label>
            <label><input type="checkbox" name="habit" value="Músico"> Músico</label>
            <label><input type="checkbox" name="habit" value="Gamer"> Gamer</label>
            
            <h3>Gustos e intereses</h3>
            <div id="preference-options" class="preference-options">
                <label><input type="radio" name="preference" value="hombre"> Hombre</label>
                <label><input type="radio" name="preference" value="mujer"> Mujer</label>
                <label><input type="radio" name="preference" value="ambos" checked> Ambos</label>
            </div>

            <div class="form-group">
                    <h3>Género</h3>
                    <div class="radio-group">
                        <label><input type="radio" name="genero" value="hombre" required> Hombre</label>
                        <label><input type="radio" name="genero" value="mujer" required> Mujer</label>
                    </div>
                </div>
            
            <h3>Información adicional</h3>
            <input type="number" id="age" placeholder="Tu edad" min="18" max="100">
            
            <button onclick="completeRegistration()" class="btn-primary">Crear Cuenta</button>
            <button onclick="showLoginForm()" class="btn-secondary">Volver al Login</button>
            <p id="register-error" style="color:red;"></p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL DEL CHAT -->
    <div id="chat-screen" style="display:none;">
        <!-- BARRA LATERAL DE CHATS -->
        <div id="chat-sidebar" class="chat-sidebar">
            <div class="sidebar-header">
                <h3>Mis Chats</h3>
            </div>
            <div id="chat-list" class="chat-list">
                <div id="no-chats-message" class="no-chats-message">
                    No hay chats registrados
                </div>
            </div>
            <div class="sidebar-footer">
                <!-- Botón '+ Añadir chat' eliminado por petición del usuario -->
            </div>
        </div>

        <!-- VENTANA DE MENSAJES -->
        <div id="chat-window" class="chat-window">
            <div id="header">
                <div class="chat-header-user">
                    <div id="chat-avatar" class="chat-avatar"></div>
                    <h2 id="chat-title">Chat en Vivo</h2>
                </div>
                <div id="couple-points-widget" class="couple-points-widget" style="display:none;">
                    <div class="points-icon">💕</div>
                    <div class="points-info">
                        <div class="points-label">Tus puntos</div>
                        <div class="points-value" id="couple-points-value">0</div>
                    </div>
                </div>
                <div id="user-info"></div>
            </div>

            <!-- ÁREA DE MENSAJES -->
            <div id="messages" class="messages-container">
                <div>Elije a alguien para hablar</div>
            </div>

            <!-- CONTENEDOR DEL JUEGO (SE MUESTRA/OCULTA DINÁMICAMENTE) -->
            <div id="game-container" style="display:none;">
                <div id="game-board-wrapper">
                    <div class="game-status">
                        <div id="current-player-game">Esperando...</div>
                        <div id="game-message-container"></div>
                    </div>
                    <div id="game-board-online"></div>
                    <div class="game-controls-footer">
                        <button id="close-game-online-btn" class="game-btn-inline close-btn">✖ Cerrar juego</button>
                    </div>
                </div>
            </div>

            <!-- ÁREA DE ENTRADA DE MENSAJES -->
            <div id="input-area">
                <div class="games-menu-container">
                    <button id="open-games-menu-btn" title="Juegos" disabled>🎮</button>
                    <div id="games-dropdown" class="games-dropdown">
                        <button class="game-option" data-game="cuatroEnRaya">🎮 Cuatro en Raya</button>
                        <button class="game-option" data-game="dosVerdades">🤥 Dos Verdades y Una Mentira</button>
                    </div>
                </div>
                <input type="text" id="message-input" placeholder="Selecciona un chat para empezar" disabled>
                <button id="send-btn" onclick="sendMessage()" disabled>Enviar</button>
            </div>
        </div>
    </div>

    <!-- BOTÓN CIRCULAR DE PERFIL -->
    <div id="profileBtn" class="chat-open-button profile-button" onclick="toggleAuthMenu()" title="Cuenta">
        <svg id="profileSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="white">
            <path d="M12 12c2.7 0 4.9-2.2 4.9-4.9S14.7 2.2 12 2.2 7.1 4.4 7.1 7.1 9.3 12 12 12zm0 2.4c-3.6 0-10.8 1.8-10.8 5.4V22h21.6v-2.2c0-3.6-7.2-5.4-10.8-5.4z"/>
        </svg>
    </div>

    <!-- SCRIPTS DE FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

    <script src="app.js"></script>
    <script src="listausuarios.js"></script>
    <script src="cuatroEnRayaScript.js"></script>
    <script src="dosVerdades.js"></script>
    <script src="gamesMenu.js"></script>

    <!-- Easter Eggs Script -->
    <script>
        // Easter Egg 1: Konami Code (↑↑↓↓←→←→BA)
        let konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;

        // Easter Egg 2: Triple click en el logo
        let logoClickCount = 0;
        let logoClickTimer = null;

        // Easter Egg 3: Escribir "cupido" en el input
        let secretWord = '';
        let secretTimer = null;

        // Easter Egg 4: Click en el título 5 veces
        let titleClickCount = 0;

        // Konami Code listener
        document.addEventListener('keydown', function(e) {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    activateKonamiEasterEgg();
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });

        function activateKonamiEasterEgg() {
            // Crear lluvia de corazones
            createHeartRain();
            showSecretMessage('🎮 ¡Código Konami activado! Las flechas de Cupido llueven sobre ti... 💘');
        }

        function createHeartRain() {
            const hearts = ['💕', '💖', '💗', '💓', '💝', '💘'];
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = '-50px';
                    heart.style.fontSize = (Math.random() * 30 + 20) + 'px';
                    heart.style.zIndex = '10000';
                    heart.style.pointerEvents = 'none';
                    heart.style.animation = 'fall ' + (Math.random() * 2 + 3) + 's linear';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 5000);
                }, i * 100);
            }

            // Agregar animación CSS si no existe
            if (!document.getElementById('heart-rain-style')) {
                const style = document.createElement('style');
                style.id = 'heart-rain-style';
                style.textContent = `
                    @keyframes fall {
                        to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Triple click en logo
        const logo = document.getElementById('veneris-logo');
        if (logo) {
            logo.addEventListener('click', function() {
                logoClickCount++;
                clearTimeout(logoClickTimer);
                
                if (logoClickCount === 3) {
                    logo.style.transform = 'rotate(360deg) scale(1.2)';
                    logo.style.transition = 'transform 0.8s ease';
                    setTimeout(() => {
                        logo.style.transform = 'none';
                        showSecretMessage('🌊 Como Venus nacida de la espuma del mar, el amor emerge en los lugares más inesperados...');
                    }, 800);
                    logoClickCount = 0;
                } else {
                    logoClickTimer = setTimeout(() => logoClickCount = 0, 500);
                }
            });
        }

        // Escribir palabra secreta
        document.addEventListener('keypress', function(e) {
            clearTimeout(secretTimer);
            secretWord += e.key.toLowerCase();
            
            if (secretWord.includes('cupido')) {
                showSecretMessage('🏹 ¡Has invocado a Cupido! Que sus flechas doradas guíen tu camino hacia el amor verdadero.');
                secretWord = '';
                document.body.style.animation = 'pulse-bg 2s ease-in-out';
                setTimeout(() => document.body.style.animation = '', 2000);
            } else if (secretWord.includes('venus')) {
                showSecretMessage('✨ Venus te sonríe. Según la leyenda, pronunciar su nombre tres veces trae buena fortuna en el amor.');
                secretWord = '';
            } else if (secretWord.includes('amor')) {
                showSecretMessage('💝 "Amor vincit omnia" - El amor todo lo vence. Palabras sabias de los antiguos romanos.');
                secretWord = '';
            }
            
            if (secretWord.length > 20) secretWord = secretWord.slice(-10);
            
            secretTimer = setTimeout(() => secretWord = '', 2000);
        });

        // Click múltiple en título
        const title = document.getElementById('main-title');
        if (title) {
            title.addEventListener('click', function() {
                titleClickCount++;
                
                if (titleClickCount === 5) {
                    const messages = [
                        '🌟 "El verdadero amor nunca se desvanece" - Sófocles',
                        '💫 En la mitología, Venus y Marte fueron amantes eternos a pesar de sus diferencias',
                        '🔮 Los romanos creían que Venus podía unir corazones a través de las estrellas',
                        '⚡ Cupido, hijo de Venus, jamás reveló el secreto de sus flechas doradas'
                    ];
                    const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                    showSecretMessage(randomMessage);
                    
                    title.style.background = 'linear-gradient(135deg, #FF9F7A 0%, #FF7A5A 100%)';
                    title.style.webkitBackgroundClip = 'text';
                    title.style.webkitTextFillColor = 'transparent';
                    
                    setTimeout(() => {
                        title.style.background = '';
                        title.style.webkitBackgroundClip = '';
                        title.style.webkitTextFillColor = '';
                    }, 2000);
                    
                    titleClickCount = 0;
                }
            });
        }

        // Easter Egg 5: Mantener presionado Alt + V durante 3 segundos
        let altVPressed = false;
        let altVTimer = null;

        document.addEventListener('keydown', function(e) {
            if (e.altKey && e.key.toLowerCase() === 'v' && !altVPressed) {
                altVPressed = true;
                altVTimer = setTimeout(() => {
                    showSecretMessage('🎭 Has descubierto el saludo secreto de Veneris. Los verdaderos devotos de Venus conocen este gesto.');
                    createGoldenGlow();
                }, 3000);
            }
        });

        document.addEventListener('keyup', function(e) {
            if (e.key.toLowerCase() === 'v' || !e.altKey) {
                clearTimeout(altVTimer);
                altVPressed = false;
            }
        });

        function createGoldenGlow() {
            document.body.style.boxShadow = 'inset 0 0 100px rgba(255, 215, 0, 0.3)';
            setTimeout(() => {
                document.body.style.boxShadow = '';
            }, 3000);
        }

        // Función para mostrar mensajes secretos
        function showSecretMessage(message) {
            const existingMessage = document.getElementById('secret-toast');
            if (existingMessage) existingMessage.remove();

            const toast = document.createElement('div');
            toast.id = 'secret-toast';
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #FF9F7A 0%, #FF7A5A 100%);
                color: white;
                padding: 20px 30px;
                border-radius: 30px;
                box-shadow: 0 10px 40px rgba(255, 122, 90, 0.5);
                z-index: 10000;
                font-size: 15px;
                font-weight: 600;
                max-width: 80%;
                text-align: center;
                animation: slideDown 0.5s ease-out, slideUp 0.5s ease-in 4.5s;
                font-family: Georgia, serif;
            `;
            document.body.appendChild(toast);

            // Agregar animaciones si no existen
            if (!document.getElementById('toast-animations')) {
                const style = document.createElement('style');
                style.id = 'toast-animations';
                style.textContent = `
                    @keyframes slideDown {
                        from { transform: translateX(-50%) translateY(-100px); opacity: 0; }
                        to { transform: translateX(-50%) translateY(0); opacity: 1; }
                    }
                    @keyframes slideUp {
                        from { transform: translateX(-50%) translateY(0); opacity: 1; }
                        to { transform: translateX(-50%) translateY(-100px); opacity: 0; }
                    }
                    @keyframes pulse-bg {
                        0%, 100% { filter: brightness(1); }
                        50% { filter: brightness(1.1); }
                    }
                `;
                document.head.appendChild(style);
            }

            setTimeout(() => toast.remove(), 5000);
        }

        // Easter Egg 6: Hora especial (14:14 - hora del amor)
        function checkLoveTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            
            if (hours === 14 && minutes === 14) {
                showSecretMessage('💞 ¡Son las 14:14! Hora del amor eterno. Venus te bendice en este momento mágico.');
            }
        }

        setInterval(checkLoveTime, 60000); // Verificar cada minuto

        // Pista oculta en consola
        console.log('%c🏹 Pista de Cupido 🏹', 'color: #FF7A5A; font-size: 20px; font-weight: bold;');
        console.log('%cLos secretos de Veneris esperan ser descubiertos...', 'color: #FF9F7A; font-size: 14px;');
        console.log('%cIntenta: Código Konami, triple-click en el logo, escribe "cupido", "venus" o "amor", 5 clicks en el título, Alt+V durante 3s', 'color: #999; font-size: 12px; font-style: italic;');
    </script>
>>>>>>> b3632797cdfc93d310428364a90ca89cb1db9d48
</body>
</html>
